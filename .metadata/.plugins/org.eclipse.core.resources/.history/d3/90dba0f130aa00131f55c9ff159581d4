package com.jeupoo.main;

import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.graphics.Point;

public abstract class Movable{
	
	protected Paint paint;
	protected Bitmap bitmap ;
	protected int cx, cy, indice;
	public Point from;
	Point to;
	int posX = 0, posY = 0;
	public boolean isMoved;

	public void paint(Canvas canvas, int dt, int iX, int iY) {
		canvas.drawBitmap(bitmap, iX, iY, paint);
	}

	public int getY() {
		return to.y;
	}

	public int getX() {
		return to.x;
	}
	public boolean getMoved(){
		return isMoved;
	}
	
	public void setMoved(boolean bool){
		isMoved = bool;
	}
	public void setPosition(int cx, int cy, int x, int y) {	
		from = new Point(cx, cy);
		this.posX = cx;
		this.posY = cy;
		to = new Point(x,y);	
	}
	
	public int getPosX(){
		return posX;
	}
	
	public int getPosY(){
		return posY;
	}
	
	public void setPosX(int x) {
		this.posX += x;
	}
	
	public void setPosY(int y) {
		this.posY += y;
	}
	
	public Point getFrom(){
		return from;
	}
	
	public Point getTo(){
		return to;
	}

	public int getIndice() {	
		return indice;
	}

	public void setIndice(int indice) {
		this.indice = indice;
	}
	
	public Bitmap getBitmap() {
		return bitmap;
	}

	public void setBitmap(Bitmap bitmap) {
		this.bitmap = bitmap;
	}
	
	public boolean isChoco(){
		if(getIndice() == 40)
			return true;
		return false;
	}
	
	public boolean isRaye(){
		if(getIndice() >= 10 && getIndice() < 30)
			return true;
		return false;
	}
	
	public boolean isEmballe(){
		if(getIndice() >= 30 && getIndice() < 40)
			return true;
		return false;
	}
	
	protected void actionBombe(GridPrinc grid, int[][]gridDup, int y, int x){
		
		gridDup[y][x] = grid.grille[y][x].mCase.getIndice();
		testBombe(grid,gridDup, y, x);

	}
	
	private void testBombe(GridPrinc grid,int [][] gridDup, int y, int x) {
		
		if(!grid.grille[y][x].isEmpty() && grid.grille[y][x].mCase.getIndice() != 30 ){
			grid.grille[y][x].mCase.bombe(grid, gridDup, y, x);
			grid.grille[y][x].setEmpty();
		}
		
		
	}
	
	public abstract int getValeur();
	public abstract void bombe(GridPrinc grid, int[][] gridDup, int y, int x);


	
	
}